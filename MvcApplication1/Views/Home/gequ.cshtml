@{
    ViewBag.Title = "gequ";
}
<style type="text/css">
    #gqbigbox {
        height: 1000px;
    }

    #gqbigbox_zhong {
        display: flex;
    }

    #gqbigbox_you {
        flex: 17;
    }

    #gqbigbox_zhong_left {
        margin-top: 20px;
        flex: 25;
        margin-left: 20px;
    }

    #gqbigbox_zhong_zhong {
        margin-top: 20px;
        flex: 55;
        color: white;
    }

    #gqbigbox_zhong_right {
        flex: 30;
    }

    #gqbigbox_zhong_left img {
        width: 200px;
        height: 200px;
    }



    #jubaotext {
        height: 200px;
        width: 150px;
    }

    * {
        margin: 0px;
        padding: 0px;
    }

    body {
        margin:0px;
        background: url("../images/bg.jpg") center;
        background-size:100% 100%;
        background-attachment:fixed;
        
    }
    /*MusicCon  begin*/
    .MusicCon {
        width: 560px;
        height: 115px;
        position: fixed; /*固定定位*/
        left: 0px;
        bottom: 50px;
        background: #000;
        overflow: hidden; /*超出部分隐藏*/
    }

        .MusicCon .ImgTxt {
            width: 300px;
            height: 115px;
            position: absolute;
            left: 0px;
        }

        .MusicCon .But {
            width: 160px;
            height: 75px;
            position: absolute;
            padding-top: 40px;
            left: 300px;
        }

        .MusicCon .clickBut {
            width: 22px;
            height: 115px;
            background: blue;
            position: absolute;
            right: 0px;
        }

        .MusicCon .ImgTxt dl {
            width: 300px;
            height: 100px;
            padding-top: 13px;
        }

            .MusicCon .ImgTxt dl dt {
                width: 90px;
                height: 90px;
                float: left;
            }

            .MusicCon .ImgTxt dl dd {
                width: 200px;
                height: 90px;
                float: right;
                color: #fff;
                font-size: 22px;
                line-height: 90px;
            }

        .MusicCon .But a {
            width: 24px;
            height: 32px;
            display: block;
            float: left;
            margin: 0px 10px;
        }

            .MusicCon .But a.prev {
                background: url("../images/prev.jpg") no-repeat center;
            }

            .MusicCon .But a.play {
                background: url("../images/pause.jpg") no-repeat center;
            }

            .MusicCon .But a.next {
                background: url("../images/next.jpg") no-repeat center;
            }

            .MusicCon .But a.prev:hover {
                background: url("../images/prev1.jpg") no-repeat center;
            }

            .MusicCon .But a.play:hover {
                background: url("../images/pause2.jpg") no-repeat center;
            }

            .MusicCon .But a.next:hover {
                background: url("../images/next1.jpg") no-repeat center;
            }



    #butImg {
        border-radius: 50%;
        opacity: 0.8;
    }

    #idcontext {
        width: 300px;
        height: 800px;
    }

    #gqbigbox_zhong_right a {
        font: 12px;
        color: white;
        text-decoration: none;
    }



    #gqbigbox_zhong_right h3 {
        color: red;
    }

    #gqbigbox_zhong_right table {
        margin-top: 15px;
    }


    #popUpBox {
        display: none;
        box-shadow: gray 0px 0px 5px 0px;
        height: 50%;
        width: 40%;
        background-color: white;
        position: absolute;
        top: 200px;
        left: 480px;
        display: none;
    }

    #popUpBox_head {
        height: 35px;
        background-color: black;
    }

        #popUpBox_head img {
            position: absolute;
            right: 0px;
            top: 0px;
            width: 25px;
            height: 35px;
        }

        #popUpBox_head p {
            font-size: 20px;
            color: white;
            position: absolute;
            top: 5px;
        }

    #ShowBox {
        position: relative;
        top: 0px;
        font-size: 20px;
    }

    #gqbigbox_zhong_zhong p {
        font-size: 15px;
    }

    #nr h1 {
        margin-top: 15px;
        color: white;
    }

    #nr p {
        font-size: 15px;
        margin-top: 8px;
        color: white;
    
    }
 #gqbigbox_zhong_left   a {
        color:#9F5F9F;
        text-decoration:none;
         font-size: 18px;
    }
</style>

<link href="~/Scripts/TuPxuanzhuanStyle.css" rel="stylesheet" />

<div id="gqbigbox">
    <div id="gqbigbox_zhong">
        <div id="gqbigbox_zhong_left">
            @foreach (var item in ViewData["gequ"] as List<MvcApplication1.gequxq>)
            {
                <div id="img2">
                    <img src="~/Zhuanjimg/@item.zjimg" id="img1" />

                </div> 
                <div id="nr">
                    <h1>@item.gq</h1>
                    <p>歌手：<a href="/Home/mqgs?gsid=@item.gsid">@item.gsname</a></p>
                    <p>所属专辑：<a href="/Home/zjtj?zjid=@item.zjid">@item.zjname</a></p>
                    <p>类型：@item.typename</p>
                    <p>歌曲介绍：@item.js</p>
                    <p>发布时间：@item.times.ToString("yyyy年MM月dd日")</p>
                    <p>热度：@item.gqhot</p>
                    <p><a href="/Home/MV?gqid=@item.gqid" id="oncMV">MV</a></p>
                </div>
                
            }
        </div>
        <div id="gqbigbox_zhong_zhong">
            @foreach (var item in ViewData["gequ"] as List<MvcApplication1.gequxq>)
            {
 
                <p style="text-align: center"><a id="idcontext">@item.texts  </a></p>
     
                <p>

                    <audio  loop="loop"  autoplay="autoplay" src="~/mp3/@item.mp3" id="audio">
                    </audio>
                </p>
            
            }


        </div>

        <div id="gqbigbox_zhong_right">
            <div>
                <h3>推荐歌曲</h3>
                <a href="/Home/gxtj" style="color: white; text-decoration: none;">返回首页</a>
            </div>
            <div style="overflow-x: auto; overflow-y: auto; height: 650px; width: 100%;">
                <table style="text-align: center; width: 100%; height: 2000px;">
                    <tbody>
                        @foreach (var item in Session["gqzong"] as List<MvcApplication1.gqredu>)
                        {
                 
               
                            <tr>
                                <td>
                                    <a href="/Home/gequ?gqid=@item.gqid">
                                        <img src="~/gqimg/@item.gqimg" width="50px" height="50px" id="tjimg"/></a></td>
                                <td><a href="/Home/gequ?gqid=@item.gqid">@item.gqname</a></td>
                            </tr>
               
                        }
                    </tbody>
                </table>
            </div>
        </div>

    </div>
</div>

<!--音乐播放按扭开始-->
<div class="MusicCon">
    <div class='ImgTxt'>
        <dl>
            @foreach (var item in ViewData["gequ"] as List<MvcApplication1.gequxq>)
            {
                <dt>
                    <img src="~/gqimg/@item.img" width='90' height='90' id="butImg"/>
                </dt>
                <dd>@item.gq
                    <input type="button" value="收藏" id="ShowBox" style="width: 50px; height: 50px; background-color: black; color: white;" /></dd>
              
            }
        </dl>
    </div>

    <div class="But">
        @foreach (var item in ViewData["gequ"] as List<MvcApplication1.gequxq>)
        {
            <a href="/Home/prev?gqid=@item.gqid" class="prev"></a>
            <a href="#" class="play"></a>
            <a href="/Home/next?gqid=@item.gqid" class="next"></a>
        }
    </div>

    <div class="clickBut">
        <img src="~/images/but.png" />
    </div>
    <div class="playBox"></div>
</div>

@*收藏*@
<div id="popUpBox">
    <div id="popUpBox_head">
        <p>收藏到您的歌单：</p>
        <img src="~/icon/退出.jpg" />
    </div>
    <div id="popUpBox_gd">
        <div style="overflow-x: auto; overflow-y: auto; height: 300px; width: 100%">
            <table style="width: 98%; height: 300px;">
                <tbody>

                    @foreach (var item in ViewData["shouc"] as List<MvcApplication1.shouchang>)
                    {
                        <tr>
                            <td>
                                <img src="~/gedanimg/@item.gdimg"  width="100px" height="100px"/></td>
                            <td>@item.gdname</td>
                            <td>
                                <input type="button" value="添加" onclick="shouc('@ViewBag.gqid    ','@item.gdid    ')"/></td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>



<script src="~/Scripts/jquery.unobtrusive-ajax.min.js"></script>
<script src="~/Scripts/jquery-3.3.1.min.js"></script>

@*MV*@
<script>
    $(function () {
        $("#oncMV").css("display","none");
        var MVid= "@ViewBag.MVid ";
       
        if (MVid!=0) {
            $("#oncMV").css("display","block");
        }
    })
</script>

@*收藏*@
<script>
    //点击新增弹出
    $("#ShowBox").click(function () {
        var userid = "@ViewBag.userid";
        if (userid != 0) {
            $("#popUpBox").css("display", "block")
        }
        else {
            alert("请登录后在来收藏吧")
        }
    })
    //点击关闭
    $("#popUpBox_head img").click(function () {
        $("#popUpBox").css("display", "none")

    })
    function shouc(gqid,gdid) {
        window.location.href="/Home/shouc?gqid="+gqid+"&&gdid="+gdid+"";
    }
</script>


<script>
    var context = $("#idcontext").html();
    context = context.replace(/\n|\r\n/g, "<br/>");
    $("#idcontext").html(context);
    //alert(context)
    //其他操作
</script>



<!--音乐播放按扭结束-->
<script src="~/Scripts/jquery-1.11.1.min.js" type="text/javascript"></script>

<script type="text/javascript">
    //点击图片播放音乐
    $(function () {
        $(".play").click(function () {
            var audio = document.getElementById("audio");
            if (audio != null) {
                console.log(audio.paused);
                if (audio.paused == true) {

                    audio.play();
                }
                else {
                    audio.pause();
                }
            }
        })
        //图片旋转
        var zt = true;
        $(".play").click(function () {
            if (zt) {
                $("#img2").css("animation-play-state", "paused")
                zt = false
            }
            else {
                $("#img2").css("animation-play-state", "running")
                zt = true
            }
        })
    })

    var mark = 1; //打开
    $(".clickBut").click(function () {
        if (mark == 1) {
            $(".MusicCon").animate({ width: "22px" }, 1000);
            mark = 0;//关闭
        } else {
            $(".MusicCon").animate({ width: "560px" }, 1000);
            mark = 1;//打开
        }
    });


</script>
